{% extends '@Roster/Form/index-layout.html.twig' %}

{% block confirm_delete %}Confirm deleting this student?{% endblock %}

{% block text %}
    <div class="row">
        <div class="col-lg-12">
            <div class="well well-sm">
                {{ form_start(form, {'action': path('student'), 'method' : 'POST', 'attr' : {'class' : 'navbar-form navbar-left', 'style' : 'width:100%;'}}) }}
                    Search Students:
                    {{ form_widget(form.criteria, {'attr' : {'class' : 'form-control inputsearchbox', 'style' : 'background:#999; color:#FFF; font-weight:bold;'}}) }}
                    {{ form_widget(form.fields, {'attr' : {'class' : 'form-control inputsearchbox', 'style' : 'background:#999; color:#FFF; font-weight:bold;'}}) }}
                    <input type="submit" class="btn btn-default pull-right text-normal active" value="Search">
                {{ form_end(form) }}
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
{% endblock %}

{% block table_header %}
    <th>Picture</th>
    <th>CV#</th>
    <th>Full Name</th>
    <th>Program</th>
    <th>Schedule</th>
    <th>Phone#</th>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Status</th>
    <th></th>
{% endblock %}

{% block table_body %}
    <td>
        {% if entity.picture %}
            <a href="{{ path('student_show', {'id' : entity.id}) }}"> <img src="{{ asset(entity.webPath) }}" class="img-thumbnail" width="90" /></a>
        {% else %}
        <a href="{{ path('student_show', {'id' : entity.id}) }}"> <img src="{{ asset('media/images/image-usuario.png') }}" class="img-thumbnail" width="90" /></a>
        {% endif %}
    </td>
    <td>{{ entity.cv }}</td>
    <td>{{ entity }}</td>
    <td>{{ entity.programs | join('/') }}</td>
    <td>{{ entity.schedules | join('/') }}</td>
    <td>{{ entity.homePhone }}</td>
    <td>{{ entity.startDate | date('Y-m-d') }}</td>
    <td>{{ entity.endDate | date('Y-m-d') }}</td>
    <td>{{ entity.statusText }}</td>
{% endblock %}

{% block delete %}{% endblock %}
{% block buttons %}
    {% if not entity.dropInfo %}
    <li><a href="{{ path('student_drop', {'id' : entity.id}) }}">Drop</a></li>
    {% endif %}
    {% if not entity.graduated %}
        <li><a href="{{ path('student_graduate', {'id' : entity.id}) }}">Graduate</a></li>
    {% endif %}
{% endblock %}